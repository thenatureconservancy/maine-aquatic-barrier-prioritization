function getHistogram(RfieldName) {
  getHistogramQuery(RfieldName)
  let data = [
    {
      fieldName: 'prcnt_mhw',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        90.30000305175781, 83.5, 75.80000305175781, 79.0999984741211, 81.69999694824219,
        88.0999984741211, 65.9000015258789, 92.69999694824219, 88.19999694824219, 0, 80.5, 0,
        7.599999904632568, 89.9000015258789, 80.0999984741211, 81.69999694824219, 82.69999694824219,
        41.29999923706055, 95.30000305175781, 90.9000015258789, 71.69999694824219, 80.5,
        69.5999984741211, 82.0999984741211, 36.400001525878906, 66.5, 33.5, 38.79999923706055,
        53.29999923706055, 68.5999984741211, 81.9000015258789, 60.400001525878906, 83.5999984741211,
        70.0999984741211, 75.69999694824219, 67.5, 81, 66.30000305175781, 0, 83.30000305175781, 80,
        90, 64.19999694824219, 68.30000305175781, 65.4000015258789, 0, 89, 80.5, 91.69999694824219,
        82.5, 85.4000015258789, 76.30000305175781, 0, 91.9000015258789, 73.9000015258789,
        85.19999694824219, 36.5, 0, 0, 85.4000015258789, 40.29999923706055, 85.69999694824219, 73,
        88.30000305175781, 80.80000305175781, 0, 86.9000015258789, 82.4000015258789, 84,
        39.79999923706055, 73.0999984741211, 74.4000015258789, 47.79999923706055, 83.9000015258789,
        82.9000015258789, 48.79999923706055, 33.70000076293945, 6, 45.79999923706055,
        34.900001525878906, 89, 81.30000305175781, 42.20000076293945, 79.80000305175781, 29,
        85.9000015258789, 83.4000015258789, 0.6000000238418579, 0, 82.69999694824219, 0,
        8.199999809265137
      ]
    },
    {
      fieldName: 'Erosn_Acre',
      min: 0,
      max: 20,
      steps: 1,
      data: [
        2.869999885559082, 4.309999942779541, 4.539999961853027, 2.049999952316284,
        1.409999966621399, 1.0499999523162842, 4.789999961853027, 0.33000001311302185,
        1.6399999856948853, 0.5099999904632568, 1.190000057220459, 0.3100000023841858,
        0.10999999940395355, 1.9299999475479126, 10.079999923706055, 3.7200000286102295,
        4.059999942779541, 17.010000228881836, 0, 0, 3.5399999618530273, 3.559999942779541,
        1.940000057220459, 1.8200000524520874, 4.090000152587891, 2.7799999713897705,
        1.840000033378601, 2.440000057220459, 0.800000011920929, 1.6200000047683716,
        2.7699999809265137, 0.8600000143051147, 0.8199999928474426, 7.440000057220459,
        2.4200000762939453, 2.5199999809265137, 1, 0.9800000190734863, 0.38999998569488525,
        0.41999998688697815, 3.319999933242798, 1.2100000381469727, 0.8999999761581421,
        1.2999999523162842, 0.8500000238418579, 0.18000000715255737, 2.549999952316284, 0.75,
        1.6100000143051147, 1.809999942779541, 0.8299999833106995, 3.430000066757202,
        0.3199999928474426, 2.240000009536743, 2.2300000190734863, 0.8999999761581421,
        0.17000000178813934, 0.1599999964237213, 0.3199999928474426, 1.8300000429153442,
        0.3700000047683716, 2, 5.090000152587891, 1.2300000190734863, 0.699999988079071, 0,
        0.9100000262260437, 0.9399999976158142, 9.050000190734863, 2.549999952316284,
        2.680000066757202, 2.6500000953674316, 1.2799999713897705, 5.130000114440918,
        1.3700000047683716, 0.9900000095367432, 1.059999942779541, 0, 0.05999999865889549, 0,
        6.829999923706055, 0.9300000071525574, 0.019999999552965164, 9.609999656677246, 0,
        3.0799999237060547, 0.8899999856948853, 0, 0, 9.710000038146973, 0, 3.1500000953674316
      ]
    },
    {
      fieldName: 'Erosn_prct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        7.31, 6.24, 13.69, 16.7, 11.32, 6.8, 70.82, 4.69, 2.11, 75.43, 10.98, 35.41, 17.34, 9.82,
        9.59, 7.2, 2.45, 12.26, 0, 0, 9.18, 4.61, 5.08, 7.2, 29.49, 2.58, 4.73, 4.19, 5.97, 6.75,
        34.13, 45.98, 12.21, 12.24, 4.29, 6.21, 9.28, 8.42, 49.46, 1.42, 7.1, 2.67, 28.49, 24.74,
        49.8, 24.46, 3.22, 2.58, 1.04, 2.99, 4.38, 12.11, 72.82, 3.11, 7.28, 8.09, 19.28, 84.88,
        35.42, 10.39, 14.92, 5.73, 35.07, 3.46, 21.39, 0, 6.22, 22.04, 16.49, 29.73, 36.78, 10.88,
        3.45, 7.93, 4.2, 3.44, 6.14, 0, 0.17, 0, 7.21, 1.31, 0.85, 5.81, 0, 6.19, 3.41, 0, 0, 3.22,
        0, 23.02
      ]
    },
    {
      fieldName: 'brng_cap',
      min: 0,
      max: 10,
      steps: 1,
      data: [
        2.940000057220459, 2.5, 2.0899999141693115, 2.5, 2.0299999713897705, 2.309999942779541, 0,
        0, 1.340000033378601, 0, 0, 0, 0, 0, 0, 0, 2.8399999141693115, 0, 0, 0, 2.430000066757202,
        0, 0, 0, 2.119999885559082, 1.559999942779541, 0, 0, 1.7799999713897705, 1.809999942779541,
        0, 0, 1.809999942779541, 1.2100000381469727, 1.6200000047683716, 0, 1.399999976158142,
        3.4000000953674316, 0, 0, 0, 0, 0, 2.430000066757202, 0, 0, 2.1670000553131104,
        1.937000036239624, 0, 0, 0, 1.3600000143051147, 0, 2.75, 2.190000057220459,
        2.200000047683716, 0, 0, 0, 2.3499999046325684, 1.350000023841858, 0.9300000071525574,
        1.5499999523162842, 1.2100000381469727, 0.9900000095367432, 0, 1.3899999856948853, 0.25,
        1.2899999618530273, 0, 2.7799999713897705, 1.9299999475479126, 1.399999976158142,
        1.899999976158142, 1.9299999475479126, 3.200000047683716, 6.809999942779541,
        5.53000020980835, 1.809999942779541, 3.380000114440918, 5.03000020980835,
        2.2799999713897705, 5, 2.619999885559082, 5.300000190734863, 1.5299999713897705,
        1.309999942779541, 4.460000038146973, 0, 1.5800000429153442, 0, 4.210000038146973
      ]
    },
    {
      fieldName: 'Ditch_feet',
      min: 0,
      max: 5000,
      steps: 100,
      data: [
        2501, 5542, 873, 0, 0, 0, 0, 0, 4576, 0, 0, 0, 0, 1345, 4929, 2340, 1008, 298, 0, 0, 0, 305,
        0, 0, 0, 5119, 0, 834, 704, 947, 0, 0, 654, 3295, 10463, 7298, 0, 0, 0, 0, 275, 0, 0, 0, 0,
        0, 5586, 4131, 3212, 6242, 1737, 8739, 0, 1399, 0, 0, 0, 0, 0, 0, 0, 0, 0, 547, 0, 0, 375,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 266, 0, 0, 0, 0, 0, 0, 287, 0, 1249, 0, 0, 0, 2335, 0, 0
      ]
    },
    {
      fieldName: 'Ditch_prct',
      min: 0,
      max: 5,
      steps: 1,
      data: [
        0.79, 0.98, 0.35, 0, 0, 0, 0, 0, 0.69, 0, 0, 0, 0, 0.87, 0.6, 0.56, 0.07, 0.03, 0, 0, 0,
        0.05, 0, 0, 0, 0.56, 0, 0.17, 0.64, 0.49, 0, 0, 1.27, 0.71, 2.22, 2.2, 0, 0, 0, 0, 0.07, 0,
        0, 0, 0, 0, 0.84, 1.67, 0.24, 1.22, 1.1, 4.03, 0, 0.23, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.18, 0,
        0, 0.31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.19, 0, 0, 0, 0, 0, 0, 0.02, 0, 0.31, 0, 0, 0, 0.09, 0,
        0
      ]
    },
    {
      fieldName: 'mid_tram',
      min: 1,
      max: 100,
      steps: 1,
      data: [
        49.810001373291016, 58.88999938964844, 70.55000305175781, 63.52000045776367,
        61.11000061035156, 65.37000274658203, 0, 0, 66.66999816894531, 0, 0, 0, 0, 0, 0, 0,
        76.11000061035156, 0, 0, 0, 76.11000061035156, 0, 0, 0, 62.220001220703125,
        83.88999938964844, 0, 0, 56.11000061035156, 56.66999816894531, 0, 0, 61.66999816894531,
        62.59000015258789, 61.66999816894531, 0, 67.77999877929688, 70, 0, 0, 0, 0, 0,
        58.88999938964844, 0, 0, 64.06999969482422, 56.849998474121094, 0, 0, 0, 63.88999938964844,
        0, 41.849998474121094, 76.30000305175781, 50.7400016784668, 0, 0, 0, 60.93000030517578,
        77.77999877929688, 80.55999755859375, 82.77999877929688, 65.37000274658203,
        77.77999877929688, 0, 59.439998626708984, 54.45000076293945, 54.06999969482422, 0,
        78.33000183105469, 76.11000061035156, 80.55999755859375, 78.33000183105469,
        76.11000061035156, 73.33000183105469, 71.66999816894531, 76.11000061035156,
        61.66999816894531, 78.33000183105469, 70.55000305175781, 78.33000183105469,
        78.33000183105469, 81.11000061035156, 78.33000183105469, 78.33000183105469,
        75.55999755859375, 70.55000305175781, 0, 83.33000183105469, 0, 75.55999755859375
      ]
    },
    {
      fieldName: 'sc_avg_ft',
      min: -82,
      max: 100,
      steps: 1,
      data: [
        -17.40999984741211, -11.569999694824219, -18.940000534057617, -20.479999542236328,
        -14.229999542236328, -15.260000228881836, -2.7799999713897705, 67.22000122070312,
        -5.050000190734863, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999, -99999,
        -99999, -99999, -19.649999618530273, -16.360000610351562, -14.829999923706055,
        -15.170000076293945, -73.23999786376953, -11.170000076293945, -13.869999885559082,
        -11.680000305175781, -7.829999923706055, -17.100000381469727, -53.709999084472656,
        -40.869998931884766, -16.81999969482422, -36.36000061035156, -12.220000267028809,
        -11.170000076293945, -12.329999923706055, -15.40999984741211, -3.690000057220459,
        -0.8199999928474426, -9.859999656677246, -2.799999952316284, -26.100000381469727,
        -25.420000076293945, -45.93000030517578, -7.320000171661377, -5.730000019073486,
        -1.4700000286102295, 24.75, -5.900000095367432, -5.070000171661377, -35.83000183105469,
        -46.13999938964844, -4.460000038146973, -6.78000020980835, 4.690000057220459,
        -8.260000228881836, -27.559999465942383, -12.109999656677246, -19.68000030517578,
        -9.920000076293945, -14.010000228881836, -52.9900016784668, -7.869999885559082,
        -22.540000915527344, 26.219999313354492, -11.149999618530273, -25.190000534057617,
        -25.15999984741211, 31.450000762939453, -57.599998474121094, 11.539999961853027,
        185.36000061035156, -16.549999237060547, -99999, -99999, 103.51000213623047, -99999, -99999,
        -99999, -99999, -99999, -99999, -81.5199966430664, -99999, -99999, -1.6100000143051147,
        -99999, 49.59000015258789, -99999, -99999, -99999
      ]
    },
    {
      fieldName: 'omwm_acres',
      min: 0,
      max: 6.4,
      steps: 1,
      data: [
        0, 6.389999866485596, 2.559999942779541, 0.6700000166893005, 0.47999998927116394,
        0.550000011920929, 0, 0, 2.4100000858306885, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.009999999776482582, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
      ]
    },
    {
      fieldName: 'ww_dist_mi',
      min: 0,
      max: 1,
      steps: 0.1,
      data: [
        0.029999999329447746, 0.019999999552965164, 0.10999999940395355, 0.019999999552965164,
        0.009999999776482582, 0.019999999552965164, 0.009999999776482582, 0.09000000357627869,
        0.029999999329447746, 0.2800000011920929, 1.0299999713897705, 0.9599999785423279,
        1.059999942779541, 0.550000011920929, 0.07999999821186066, 0.2800000011920929,
        0.10999999940395355, 0.03999999910593033, 0.12999999523162842, 0.25999999046325684,
        0.25999999046325684, 0.3199999928474426, 0.3499999940395355, 0.38999998569488525,
        0.009999999776482582, 0.019999999552965164, 0.5, 0.28999999165534973, 0.3100000023841858,
        0.25999999046325684, 0.20000000298023224, 0.23999999463558197, 0.7900000214576721,
        0.09000000357627869, 0.6499999761581421, 0.8700000047683716, 0.5099999904632568,
        0.4000000059604645, 0.09000000357627869, 1.1399999856948853, 0.9599999785423279,
        1.1699999570846558, 0.36000001430511475, 0.11999999731779099, 0.10000000149011612,
        0.07999999821186066, 0.03999999910593033, 0.019999999552965164, 0.019999999552965164,
        0.019999999552965164, 0.23000000417232513, 0.03999999910593033, 0.5600000023841858,
        0.03999999910593033, 0.20999999344348907, 0.10999999940395355, 0.10999999940395355,
        0.09000000357627869, 0.03999999910593033, 0.1899999976158142, 0.11999999731779099,
        0.1599999964237213, 0.4000000059604645, 0.05000000074505806, 0.2800000011920929,
        0.18000000715255737, 0.029999999329447746, 0.1899999976158142, 0.019999999552965164,
        0.029999999329447746, 0.7099999785423279, 0.8700000047683716, 0.8500000238418579,
        0.6600000262260437, 0.7300000190734863, 0.5299999713897705, 0.4000000059604645,
        0.3799999952316284, 0.1599999964237213, 0.20000000298023224, 1.0099999904632568, 1,
        1.100000023841858, 0.5400000214576721, 0.6399999856948853, 0.17000000178813934,
        0.3100000023841858, 0.2800000011920929, 0.25999999046325684, 0.09000000357627869,
        0.3199999928474426, 0.27000001072883606
      ]
    },
    {
      fieldName: 'sav_summry',
      min: 0,
      max: 700,
      steps: 1,
      data: [
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 302, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        671
      ]
    },
    {
      fieldName: 'tmc_hm_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        43.099998474121094, 86.0999984741211, 83.5, 88.69999694824219, 92.80000305175781, 78, 90,
        35.70000076293945, 79.0999984741211, 94.5, 53.20000076293945, 86.30000305175781,
        73.9000015258789, 82.19999694824219, 79.80000305175781, 76.9000015258789, 76.5999984741211,
        41.5, 0.5, 0, 66.4000015258789, 66.9000015258789, 50.70000076293945, 74.5, 84.5999984741211,
        75.5999984741211, 51.099998474121094, 71.69999694824219, 88, 91.80000305175781,
        52.79999923706055, 55.29999923706055, 85.5, 79.30000305175781, 85.9000015258789,
        85.5999984741211, 65.0999984741211, 71.9000015258789, 15.600000381469727, 93.5,
        89.4000015258789, 89.69999694824219, 50.79999923706055, 49.79999923706055, 81.5,
        65.69999694824219, 57.400001525878906, 50.29999923706055, 55.70000076293945,
        95.9000015258789, 95.19999694824219, 83.9000015258789, 62.20000076293945, 18,
        48.79999923706055, 21, 61.5, 74.4000015258789, 0, 45.900001525878906, 36.29999923706055,
        23.799999237060547, 79.5, 35.79999923706055, 67.30000305175781, 2.799999952316284,
        44.099998474121094, 53.20000076293945, 76.4000015258789, 88.5, 88.5999984741211, 86.5,
        69.4000015258789, 88.4000015258789, 95.19999694824219, 87, 64.0999984741211,
        51.400001525878906, 82.30000305175781, 70, 63.20000076293945, 86.4000015258789,
        71.5999984741211, 74.4000015258789, 63.20000076293945, 80.30000305175781, 90.19999694824219,
        63.900001525878906, 10.699999809265137, 65.5999984741211, 27.5, 0
      ]
    },
    {
      fieldName: 'tmc_lm_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        50.900001525878906, 0.20000000298023224, 0.8999999761581421, 0.20000000298023224,
        0.699999988079071, 7.5, 0, 8, 4.599999904632568, 0, 6.400000095367432, 0.800000011920929,
        2.5, 1.399999976158142, 0.30000001192092896, 1.2000000476837158, 2.4000000953674316,
        3.5999999046325684, 0.6000000238418579, 0, 2.9000000953674316, 2.200000047683716,
        0.699999988079071, 3.0999999046325684, 1.100000023841858, 0.699999988079071,
        1.100000023841858, 0.6000000238418579, 0.20000000298023224, 0.6000000238418579,
        31.600000381469727, 35, 2.5, 4.800000190734863, 5, 1.2999999523162842, 11.300000190734863,
        8.399999618530273, 2.200000047683716, 1.100000023841858, 1.399999976158142,
        0.6000000238418579, 26.399999618530273, 17.5, 1, 28.399999618530273, 3.9000000953674316,
        2.4000000953674316, 1.2999999523162842, 0.20000000298023224, 1.399999976158142,
        9.899999618530273, 28.799999237060547, 2.299999952316284, 42.900001525878906,
        28.399999618530273, 16.799999237060547, 14.199999809265137, 0, 32.29999923706055,
        47.70000076293945, 18.299999237060547, 11, 11.800000190734863, 0.6000000238418579,
        0.6000000238418579, 1.2000000476837158, 3.5, 0.4000000059604645, 2.9000000953674316,
        3.4000000953674316, 5.199999809265137, 5.300000190734863, 2.299999952316284,
        1.7000000476837158, 2.299999952316284, 6.099999904632568, 8.5, 5.599999904632568,
        15.399999618530273, 16.200000762939453, 8.5, 14.199999809265137, 8.899999618530273,
        16.899999618530273, 3.9000000953674316, 1.899999976158142, 16, 2.4000000953674316,
        3.200000047683716, 40.400001525878906, 0
      ]
    },
    {
      fieldName: 'tmc_mf_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        1.2999999523162842, 6.900000095367432, 9.899999618530273, 5.300000190734863,
        3.799999952316284, 7.800000190734863, 7.599999904632568, 5.599999904632568,
        10.699999809265137, 0.8999999761581421, 26, 9.100000381469727, 12.699999809265137,
        10.300000190734863, 13, 10.899999618530273, 6.199999809265137, 11.199999809265137,
        0.10000000149011612, 0, 1.600000023841858, 17.799999237060547, 19.899999618530273, 7.5,
        2.799999952316284, 8.300000190734863, 8.800000190734863, 4.5, 2.0999999046325684,
        1.2000000476837158, 6.800000190734863, 2.5, 2.9000000953674316, 4.699999809265137,
        3.200000047683716, 8.5, 19.399999618530273, 11.699999809265137, 59.099998474121094, 0.5,
        2.200000047683716, 1.7000000476837158, 15.5, 18.399999618530273, 4.099999904632568,
        1.7000000476837158, 0.800000011920929, 1.600000023841858, 1, 0.30000001192092896, 0.5,
        0.4000000059604645, 1.5, 0.30000001192092896, 1.5, 1.899999976158142, 1.2999999523162842, 0,
        0, 15, 6.5, 53.5, 0.10000000149011612, 36.5, 24, 0.800000011920929, 3.200000047683716,
        10.100000381469727, 0.10000000149011612, 0.6000000238418579, 2.799999952316284, 2,
        3.0999999046325684, 0.699999988079071, 0.10000000149011612, 0.6000000238418579, 3,
        3.299999952316284, 1.2999999523162842, 2.200000047683716, 6.099999904632568, 0.5,
        0.8999999761581421, 4.300000190734863, 6, 1.7999999523162842, 4.699999809265137,
        6.300000190734863, 3.799999952316284, 9.300000190734863, 4.400000095367432, 0
      ]
    },
    {
      fieldName: 'tmc_ow_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        2.700000047683716, 0.30000001192092896, 0.6000000238418579, 1.7999999523162842,
        1.399999976158142, 0.800000011920929, 1.2999999523162842, 1.7999999523162842,
        0.20000000298023224, 4.599999904632568, 12.399999618530273, 3.299999952316284,
        10.300000190734863, 3.5999999046325684, 5.300000190734863, 8.800000190734863,
        13.399999618530273, 18.799999237060547, 1.100000023841858, 0, 21.799999237060547,
        9.800000190734863, 25.299999237060547, 9.699999809265137, 7.099999904632568,
        9.699999809265137, 22.5, 16.5, 2.799999952316284, 3.799999952316284, 4.099999904632568,
        5.900000095367432, 3.9000000953674316, 3.5, 2.0999999046325684, 3.799999952316284,
        2.700000047683716, 4.699999809265137, 18.200000762939453, 3.0999999046325684,
        3.9000000953674316, 0.800000011920929, 6.599999904632568, 12.800000190734863,
        13.100000381469727, 3.5999999046325684, 5.400000095367432, 19.299999237060547,
        1.100000023841858, 2.700000047683716, 1.7999999523162842, 4.199999809265137, 7.5, 1.5,
        4.599999904632568, 10.699999809265137, 11, 11, 0, 5.099999904632568, 9.199999809265137,
        3.4000000953674316, 7.699999809265137, 2, 8, 95.80000305175781, 2.5999999046325684,
        9.199999809265137, 4.300000190734863, 7.300000190734863, 4.800000190734863, 4.5, 12.5,
        3.4000000953674316, 1.7000000476837158, 4.199999809265137, 11.800000190734863,
        18.799999237060547, 4.900000095367432, 6.699999809265137, 10.800000190734863,
        3.4000000953674316, 9.5, 11.300000190734863, 12.600000381469727, 10.300000190734863,
        2.9000000953674316, 12.100000381469727, 83.0999984741211, 17.600000381469727,
        23.299999237060547, 0
      ]
    },
    {
      fieldName: 'tmc_ph_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        1, 0.20000000298023224, 0, 0, 0, 1.600000023841858, 0, 3.4000000953674316, 1, 0, 0, 0, 0,
        1.100000023841858, 0.30000001192092896, 0, 0.10000000149011612, 2, 0.20000000298023224, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.10000000149011612, 0, 0, 0.4000000059604645,
        0.10000000149011612, 0.10000000149011612, 0.10000000149011612, 0, 0, 0, 0, 0,
        0.30000001192092896, 1.2000000476837158, 0, 0, 6, 7.599999904632568, 3.799999952316284, 0,
        0.10000000149011612, 0, 0, 29.899999618530273, 0.10000000149011612, 15.5, 0, 0, 0,
        1.600000023841858, 0.10000000149011612, 0.800000011920929, 1.100000023841858,
        5.099999904632568, 0.10000000149011612, 0, 1.100000023841858, 5.800000190734863,
        16.799999237060547, 0, 0, 0, 0, 1, 0, 0, 0.8999999761581421, 0, 0.6000000238418579,
        0.10000000149011612, 0.10000000149011612, 0, 0, 0.10000000149011612, 0, 0,
        0.20000000298023224, 1.7000000476837158, 0, 0.30000001192092896, 0.4000000059604645, 0
      ]
    },
    {
      fieldName: 'tmc_pp_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        0.800000011920929, 5.800000190734863, 5, 3.9000000953674316, 1.2999999523162842,
        1.2000000476837158, 1.2000000476837158, 0.20000000298023224, 2.4000000953674316, 0, 2, 0.5,
        0.699999988079071, 0.699999988079071, 1.100000023841858, 2.200000047683716,
        1.2999999523162842, 0.30000001192092896, 0, 0, 7.199999809265137, 3.299999952316284,
        3.299999952316284, 5.199999809265137, 4.400000095367432, 5.699999809265137, 16.5,
        6.699999809265137, 6.800000190734863, 2.5999999046325684, 4.599999904632568,
        1.399999976158142, 5.199999809265137, 7.199999809265137, 3.700000047683716,
        0.699999988079071, 1.2999999523162842, 3.299999952316284, 4.800000190734863,
        1.7999999523162842, 3.0999999046325684, 7.199999809265137, 0.4000000059604645,
        0.30000001192092896, 0.30000001192092896, 0.6000000238418579, 0.6000000238418579,
        3.299999952316284, 1.600000023841858, 0.8999999761581421, 1.100000023841858,
        1.600000023841858, 0, 0.4000000059604645, 2, 0.6000000238418579, 9.399999618530273,
        0.4000000059604645, 0, 0.10000000149011612, 0.20000000298023224, 0, 0.6000000238418579, 0,
        0, 0, 0, 0.10000000149011612, 0.30000001192092896, 0.699999988079071, 0.4000000059604645,
        1.7000000476837158, 9.699999809265137, 2.200000047683716, 1.2000000476837158, 6, 13.5,
        17.899999618530273, 4, 5.699999809265137, 3.5999999046325684, 1.2000000476837158,
        3.799999952316284, 1.2999999523162842, 1.2999999523162842, 3.700000047683716, 0, 0, 0,
        1.399999976158142, 4, 0
      ]
    },
    {
      fieldName: 'tmc_up_pct',
      min: 0,
      max: 100,
      steps: 1,
      data: [
        0, 0, 0, 0, 0, 0.8999999761581421, 0, 33.599998474121094, 0.30000001192092896, 0, 0, 0, 0,
        0, 0, 0, 0, 14.399999618530273, 0.6000000238418579, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7.5, 4.099999904632568, 24.700000762939453, 0, 0,
        0, 0, 22, 0, 5.400000095367432, 0, 0, 0, 0, 0, 0, 0, 4.699999809265137, 0, 0,
        46.599998474121094, 0.10000000149011612, 0.10000000149011612, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.5, 0, 0
      ]
    },
    {
      fieldName: 't_range_ft',
      min: 0,
      max: 4,
      steps: 1,
      data: [
        0.6100000143051147, 0.7099999785423279, 0.7200000286102295, 0.7300000190734863,
        0.7400000095367432, 0.7699999809265137, 0.7699999809265137, 0.7699999809265137,
        0.7900000214576721, 0.9100000262260437, 0.9399999976158142, 0.9399999976158142,
        0.9399999976158142, 0.9399999976158142, 0.949999988079071, 0.949999988079071,
        0.9800000190734863, 2.130000114440918, 1.0499999523162842, 0.949999988079071,
        1.0299999713897705, 0.9800000190734863, 1.059999942779541, 1.0199999809265137,
        2.440000057220459, 1.0399999618530273, 1.1100000143051147, 1.1799999475479126,
        1.190000057220459, 1.2000000476837158, 1.2200000286102295, 1.25, 1.3300000429153442,
        1.3899999856948853, 1.4500000476837158, 1.5800000429153442, 1.5700000524520874,
        1.5399999618530273, 1.5299999713897705, 1.6200000047683716, 1.6100000143051147,
        1.6299999952316284, 1.600000023841858, 1.600000023841858, 1.7000000476837158,
        1.850000023841858, 1.75, 1.7899999618530273, 2.009999990463257, 2.0999999046325684,
        2.0899999141693115, 2.0799999237060547, 2.2100000381469727, 2.119999885559082,
        2.130000114440918, 2.140000104904175, 2.130000114440918, 2.309999942779541,
        2.1700000762939453, 2.240000009536743, 2.2300000190734863, 2.319999933242798,
        2.359999895095825, 2.3299999237060547, 2.359999895095825, 2.359999895095825,
        2.369999885559082, 2.369999885559082, 2.4100000858306885, 2.4800000190734863,
        2.390000104904175, 2.380000114440918, 2.4000000953674316, 2.440000057220459,
        2.509999990463257, 2.450000047683716, 2.4800000190734863, 2.490000009536743,
        2.5299999713897705, 2.5799999237060547, 2.4100000858306885, 2.440000057220459,
        2.450000047683716, 2.380000114440918, 2.450000047683716, 2.5, 2.390000104904175,
        2.4000000953674316, 2.369999885559082, 2.4800000190734863, 2.5399999618530273,
        3.309999942779541
      ]
    }
  ]

  let fieldInfo = data.find(({ fieldName }) => fieldName == RfieldName)
  if (fieldInfo) {
    getHistogramChart(fieldInfo)
  }
}

//uncomment and run this function from getHistogram if you need to get updated query data for the histogram.  the results print to the screen and can
//be coppied into to the data object above. The data is currently hard coded.

function getHistogramQuery(fieldName) {
  require(['esri/tasks/support/Query', 'esri/layers/FeatureLayer'], function (Query, FeatureLayer) {
    let featureLayer = new FeatureLayer({
      url: app.url + '/3'
    })
    let query = featureLayer.createQuery()
    query.where = '1=1'
    query.outFields = [fieldName]

    featureLayer.queryFeatures(query).then(function (response) {
      vals = []
      for (let i = 0; i < response.features.length; i++) {
        vals.push(response.features[i].attributes[fieldName])
      }
      console.log(fieldName)
      console.log(vals)
    })
  })
}

function getHistogramChart(fieldInfo) {
  let fieldName = fieldInfo.fieldName
  let vals = fieldInfo.data
  let steps = fieldInfo.steps
  let min = fieldInfo.min
  let max = fieldInfo.max
  let data = histogramBins(vals, steps, min, max)
  const ctx = document.getElementById('hist-id-' + fieldName).getContext('2d')
  const chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: data,
      datasets: [
        {
          data: data,
          backgroundColor: ['rgba(202,221,238, 1)'],
          borderColor: ['rgba(202,221,238, 1)']
        }
      ]
    },
    options: {
      responsive: false,
      legend: {
        display: false
      },
      elements: {
        line: {
          borderColor: '#000000',
          borderWidth: 1
        },
        point: {
          radius: 0
        }
      },
      tooltips: {
        enabled: true,
        yAlign: 'top'
      },
      scales: {
        yAxes: [
          {
            display: false
          }
        ],
        xAxes: [
          {
            display: false
          }
        ]
      }
    }
  })
}

function histogramBins(data, size, min, max) {
  /* let min = Infinity;
  let max = -Infinity;

  for (const item of data) {
    if (item < min) min = item;
    else if (item > max) max = item;
  }*/

  const bins = Math.ceil((max - min + 1) / size)

  const histogram = new Array(bins).fill(0)

  for (let item of data) {
    if (item > max) {
      item = max
    }
    histogram[Math.floor((item - min) / size)]++
  }

  return histogram
}
